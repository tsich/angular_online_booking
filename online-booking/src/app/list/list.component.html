<div class="row justify-content-center">
    <div class="col-5">
        <label class="form-label">Choose Speciality:</label>
        <select class="form-select" aria-label="Default select example" [(ngModel)]="selectedValue"
            (change)="onSelectSpeciality($event)">
            <!-- <option selected value="All">All</option> -->
            <ng-container *ngFor="let spec of specialities; let i = index; let indexPrev = index">
                <option value={{spec.entityId}}>{{spec.name}}</option>
            </ng-container>
        </select>
    </div>
</div>
<div class="row justify-content-center">
    <div class="col-11">
        <div class="row justify-content-center" *ngIf="selectedValue">
            <div class="col-9 text-center">
                <h6 class="fw-bold py-4 fs-5">{{selectedSpeciality}} Availabilities:</h6>
            </div>
            <div class="row justify-content-center">
                <ng-container *ngIf="slots.length>0; else emptyDateTime">
                    <div class="col-2" *ngFor="let slot of slots; let i = index; let indexPrev = index">
                        <table class="table table-borderless text-center caption-top"
                            *ngIf="selectedValue == slot.entityId || selectedValue == 'All'">
                            <thead>
                                <th>
                                    {{slot.day}}
                                </th>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let slotTime of slot.availabilities; let ai=index;">
                                    <tr>
                                        <ng-container *ngIf="ai<maxAvailLength; else elseBlock">
                                            <td>
                                                <button class="btn btn-primary"
                                                    (click)="onSelectDateTime(slot.day, slotTime.time, selectedSpeciality)">
                                                    {{slotTime.time}}
                                                </button>
                                            </td>
                                        </ng-container>
                                        <ng-template #elseBlock>
                                            <td></td>
                                        </ng-template>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                </ng-container>
                <ng-template #emptyDateTime>
                    <div class="col-8 text-center">There are no availabilities</div>
                </ng-template>
            </div>
        </div>
    </div>
</div>